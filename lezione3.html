<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Lcg by fbrusch</title>
  </head>

  <body>
      <div class="inner">
          <h1 id="introduzione-a-di-javascript-e-jquery">Introduzione a (di) javascript e jquery</h1>
<h2 id="riassunto-delle-puntate-precedenti">Riassunto delle puntate precedenti</h2>
<p>Abbiamo visto come, utilizzando un minimo di elementi <code>HTML</code> e di <code>css</code> sia
possibile strutturare e presentare una storia non-lineare, ipertestuale.</p>
<p>In particolare, abbiamo utilizzato:</p>
<ul>
<li>link (tag <code>&lt;a&gt;</code>) ad elementi della pagina, identificati dalla proprietà
<code>id</code>. Es:</li>
</ul>
<pre><code>
&lt;div id=&quot;inizio&quot;&gt;
  C&#39;era una volta...

&lt;/div&gt;
</code></pre><ul>
<li>css, classi</li>
</ul>
<p>Il trucco che abbiamo usato è:</p>
<ul>
<li><p>racchiudiamo le unità narrative in <code>&lt;div&gt;</code> di appartenenti ad una classe,
(es: <code>&lt;div class=&quot;section&quot;&gt;</code>)</p>
</li>
<li><p>alla fine di ogni segmento, esprimiamo le scelte che decideranno il flusso
della narrazione con una lista di link alternativi:</p>
</li>
</ul>
<pre><code>&lt;div id=&quot;inizio&quot; class=&quot;section&quot;&gt;
  C&#39;era una volta ...
  &lt;ul&gt;
    &lt;li&gt;
      &lt;a href=&quot;#regina_si_punge&quot;
        La regina si punse.
      &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;a href=&quot;#regina_non_si_punge&quot;
        La regina, non si punse.
      &lt;/a&gt;
    &lt;/li&gt;

  &lt;/ul&gt;
&lt;/div&gt;
</code></pre><ul>
<li>nel css, diamo una regola che nasconde di default le classi:</li>
</ul>
<pre><code>.section {display: none}
</code></pre><ul>
<li>aggiungiamo una regola che renda visibile un oggetto di classe <code>section</code>
quando ci &quot;saltiamo sopra&quot; seguendo un link:</li>
</ul>
<pre><code>.section:target {display: block}
</code></pre><p>In questo modo, otteniamo l&#39;effetto di mostrare soltanto la sezione alla quale
siamo &quot;saltati&quot; per ultimi. Ovviamente, c&#39;è un problema: visto che inizialmente
nessuna sezione è nello stato <code>:target</code>, appena caricata la pagina non si vedrà
niente! Il problema è presto risolto con un&#39;accortezza: un link iniziale, non
appartenente ad alcuna sezione, che &quot;punta&quot; alla prima sezione della storia:</p>
<pre><code>&lt;a href=&quot;#incipit&quot;&gt;Cominciamo...&lt;/a&gt;
</code></pre><p>Nel <em>codepen</em> qui sotto vedete l&#39;effetto complessivo.</p>
<iframe height='265' scrolling='no'
src='https://codepen.io/fbrusch/embed/qagaXE/?height=265&theme-id=0&default-tab=html,result&embed-version=2'
frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:
100%;'>See the Pen <a href='http://codepen.io/fbrusch/pen/qagaXE/'>qagaXE</a> by
Francesco Bruschi (<a href='http://codepen.io/fbrusch'>@fbrusch</a>) on <a href="a
href=&#39;http://codepen.io&#39;">a
href=&#39;http://codepen.io&#39;</a>CodePen</a>. </iframe>

<p>Ottimo. A parte per il fatto che il link &quot;di startup&quot; rimane costantemente
visibile.</p>
<p>E&#39; possibile farlo sparire, solo tramite css? Non lo so. Mi pare che comunque,
sia piuttosto difficile...</p>
<p>Cos&#39;altro <em>non</em> posso fare con css?</p>
<ol>
<li>far comparire sottostorie</li>
<li>certe meccaniche di avanzamento (tipo: lanciare dadi, oppure
sfidare l&#39;abilità dell&#39;utente)</li>
<li>customizzare il funzionamento dei click</li>
<li>cambiare la pagina dinamicamente (tipo, aggiungendo o togliendo elementi),
a seconda di quello che &quot;succede&quot;</li>
</ol>
<p>Tecnicamente, il css mi dice &quot;dimmi cosa vuoi fare (il risultato che vuoi
ottenere), a come farlo ci penso io&quot;.</p>
<p>Ma a volte, non è facile (oppure è proprio impossibile) descrivere in css quello
che voglio. Il mio potere espressivo è limitato, come quando ho un pennello
troppo grande, o mi mancano i colori, oppure le parole (o gli strumenti
espressivi).</p>
<p>Per esempio, io vorrei poter dire, ad un elemento: &quot;quando clicco qui sopra,
tu sparisci&quot;.</p>
<p>&Egrave; il momento di procurarsi un&#39;altra freccia da scoccare  all&#39;occorrenza:
<code>javascript</code>! (sento, silenzioso e ghiacciato, il sudore colarvi lungo la
schiena...)</p>
<p>Per fare questo utilizzeremo <code>jquery</code>.</p>
<p>Cos&#39;è <code>jquery</code>? Una libreria che ci semplifica il lavoro...
Con essa ossiamo considerare singoli elementi tramite l&#39;id, e farci un sacco di cose:</p>
<ul>
<li>cambiare proprietà di un elemento (tipo possiamo muovere un elemento agendo su
un elemento relative, agendo su top e left)</li>
<li>definire azioni quando ci clicchiamo sopra, o altre amenità (click, hover)</li>
<li>combinare più comandi in funzioni (sai che spasso)</li>
<li>inserire il tempo! fare cose a distanza di tempo, oppure fare cose ogni tot
tempo...</li>
<li>possiamo AUTOMATIZZARE, creare meccanismi meravigliosi, che faranno rimanere i
nostri amici a bocca aperta...</li>
</ul>
<p>Prendiamo una pagina semplice, su codepen, con un solo elemento:</p>
<pre><code class="lang-html">&lt;p id=&quot;messaggio&quot;&gt;Ciao&lt;/p&gt;
</code></pre>
<p>Nella finestra &quot;js&quot;, clicchiamo sull&#39;icona di configurazione e aggiungiamo
<code>jQuery</code> tra i file.</p>
<p>Nell&#39;editor <code>js</code> di codepen, scriviamo.</p>
<pre><code class="lang-javascript">$(&quot;#messaggio&quot;).fadeOut()
</code></pre>
<iframe height='265' scrolling='no' src='https://codepen.io/fbrusch/embed/wzOXyE/?height=265&theme-id=0&default-tab=html,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='http://codepen.io/fbrusch/pen/wzOXyE/'>wzOXyE</a> by Francesco Bruschi (<a href='http://codepen.io/fbrusch'>@fbrusch</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>

<p>Visto che succede? Il paragrafo con id <code>messaggio</code> sparisce!</p>
<p>Come è fatta l&#39;istruzione in javascript/jQuery?</p>
<p>Spezziamola in due parti: <code>$(&quot;#messaggio&quot;)</code> e <code>fadeOut()</code>.</p>
<p><code>$(&quot;#messaggio&quot;)</code> utilizza l&#39;operatore <code>$</code> per individuare un elemento della nostra pagina. Lo fa utilizzando la stessa notazione del css: in
questo caso l&#39;argomento <code>&quot;#messaggio&quot;</code> indica che ci vogliamo riferire all&#39;elemento
che appunto ha <code>id</code> uguale a <code>&quot;messaggio&quot;</code>.</p>
<p>Una volta che abbiamo specificato un elemento, possiamo inviargli un <em>segnale</em> (anche detto <em>metodo</em>),
che in questo caso si chiama <code>fadeOut</code>. La sintassi è quella della <em>chiamata a funzione</em>:
<code>fadeOut()</code>.</p>
<p>Ci sono altri segnali? Certamente!</p>
<p>Un altro è <code>css</code>, che consente di cambiare proprietà di visualizzazione di un
elemento:</p>
<pre><code>$(&quot;#messaggio&quot;).css({&quot;color&quot;:&quot;red&quot;})
</code></pre><iframe height='265' scrolling='no' src='https://codepen.io/fbrusch/embed/ZpPzmW/?height=265&theme-id=0&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='http://codepen.io/fbrusch/pen/ZpPzmW/'>ZpPzmW</a> by Francesco Bruschi (<a href='http://codepen.io/fbrusch'>@fbrusch</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>

<p>Per ora, mandare segnali agli oggetti non è una cosa di originalità devastante: tutto quello che abbiamo fatto avremmo potuto farlo con regole css!</p>
<p>Ora però immaginiamo di voler fare succedere qualcosa (la scomparsa di un elemento) tipo quando gli clicchiamo sopra. Questo in css non è facile (dobbiamo sbatterci con :target, link id etc).</p>
<p>In javascript la cosa è semplice! Ci serve solo un ulteriore strumento: le funzioni (sento il sudore ghiacciare definitivamente...)</p>
<p>Cos&#39;è una funzione? Per ora è una sequenza di comandi raggruppati, che possiamo eseguire come vogliamo! Facciamo subito un esempio:</p>
<pre><code class="lang-javascript">
function saluta() {
  alert(&quot;ciao&quot;);
  alert(&quot;a tutti&quot;);
}
</code></pre>
<p>Abbiamo definito la funzione <code>saluta</code>. D&#39;ora in poi, possiamo invocare la funzione, in questo modo:</p>
<pre><code class="lang-javascript">saluta()
</code></pre>
<p>Quello che succede è che, quando viene invocata la funzione, le istruzioni
che abbiamo specificato nella definizione vengono eseguite.</p>
<p>Ed eccoci al punto cruciale: è possibile legare il verificarsi di un evento
(ad esempio il click su un&#39;elemento) all&#39;invocazione di una funzione.</p>
<pre><code class="lang-html">&lt;p id=&quot;clickme&quot;&gt;Cliccami&lt;/p&gt;
</code></pre>
<pre><code class="lang-javascript">$(&quot;#clickme&quot;).click(saluta);
</code></pre>
<iframe height='265' scrolling='no' title='GNRBGj' src='https://codepen.io/fbrusch/embed/GNRBGj/?height=265&theme-id=0&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='http://codepen.io/fbrusch/pen/GNRBGj/'>GNRBGj</a> by Francesco Bruschi (<a href='http://codepen.io/fbrusch'>@fbrusch</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>

<p>Finalmente possiamo risolvere il problema da cui siamo partiti: far sparire
il link di startup iniziale. Basterà collegare il suo evento di click ad una
funzione che lo faccia scomparire.</p>
<p>Per farlo, ci basta:</p>
<ol>
<li>dare un id al link iniziale (per esempio, &quot;startup&quot;)</li>
<li>definire una funzione che faccia scomparire il link iniziale:<pre><code class="lang-javascript">svanisce_startup = function () {
  $(&quot;#startup&quot;).fadeOut()
}
</code></pre>
</li>
<li>collegare l&#39;evento di click sul link alla sua sparizione:<pre><code class="lang-javascript">$(&quot;#startup&quot;).click(svanisce_startup)
</code></pre>
</li>
</ol>
<iframe height='265' scrolling='no' title='rWNrqP' src='https://codepen.io/fbrusch/embed/rWNrqP/?height=265&theme-id=0&default-tab=html,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='http://codepen.io/fbrusch/pen/rWNrqP/'>rWNrqP</a> by Francesco Bruschi (<a href='http://codepen.io/fbrusch'>@fbrusch</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>

<p>Ci sono altri messaggi interessanti:</p>
<ul>
<li><code>hover</code>: lega l&#39;evento di passaggio del puntatore su un elemento ad una
funzione</li>
<li><code>animate</code>: è come <code>css</code>, ma consente di animare la transizione</li>
</ul>
<p>In generale, <a href="http://api.jquery.com/">qui</a> trovate tutti i segnali che si
possono inviare ad un elemento.</p>


      </div>
      <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)
},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36402304-4', 'auto');
    ga('send', 'pageview');

      </script>
  </body>
</html>
